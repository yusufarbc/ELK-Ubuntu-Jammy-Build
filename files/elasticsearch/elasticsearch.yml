cluster.name: msb-elk
node.name: node-1

path.data: /var/lib/elasticsearch
path.logs: /var/log/elasticsearch

# Tek node ve yalnızca localhost'ta dinle
discovery.type: single-node
network.host: 127.0.0.1
http.host: 127.0.0.1

# Güvenlik
xpack.security.enabled: true

# Enrollment token üretimi için ZORUNLU
xpack.security.enrollment.enabled: true

# =========================
# HTTP TLS (REST API)
#  - Script, /etc/elasticsearch/certs altında http.p12 üretiyor.
#  - Parolasız PKCS#12 (script: `-passout pass:`), bu yüzden password satırı yok.
# =========================
xpack.security.http.ssl.enabled: true
xpack.security.http.ssl.client_authentication: optional
xpack.security.http.ssl.keystore.path: "/etc/elasticsearch/certs/http.p12"

# =========================
# Transport TLS (node içi)
#  - Script PEM (transport.crt/key + ca.crt) üretiyor.
# =========================
xpack.security.transport.ssl.enabled: true
xpack.security.transport.ssl.verification_mode: certificate
xpack.security.transport.ssl.certificate_authorities: ["/etc/elasticsearch/certs/ca.crt"]
xpack.security.transport.ssl.certificate: "/etc/elasticsearch/certs/transport.crt"
xpack.security.transport.ssl.key: "/etc/elasticsearch/certs/transport.key"