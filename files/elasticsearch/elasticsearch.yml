# Elasticsearch - single node, localhost + TLS
cluster.name: elk-single
node.name: ${HOSTNAME}

# Sadece localhost'a bağlan
network.host: 127.0.0.1
http.port: 9200

# Single-node discovery
discovery.type: single-node

# Güvenlik (ES 8 ile default açık ama net belirtelim)
xpack.security.enabled: true
xpack.security.transport.ssl.enabled: true
xpack.security.http.ssl.enabled: true

# Enrollment özelliği gerekli
xpack.security.enrollment.enabled: true

# HTTP katmanı: **PKCS12 keystore** (enrollment token için şart)
xpack.security.http.ssl.keystore.path: /etc/elasticsearch/certs/http.p12
# Eğer p12 parolasız üretildiyse aşağıyı boş bırak veya kaldır:
# xpack.security.http.ssl.keystore.password: ""

# Transport: PEM (aynı CA ile imzalı)
xpack.security.transport.ssl.certificate: /etc/elasticsearch/certs/transport.crt
xpack.security.transport.ssl.key: /etc/elasticsearch/certs/transport.key
xpack.security.transport.ssl.certificate_authorities: [ "/etc/elasticsearch/certs/ca.crt" ]
xpack.security.transport.ssl.verification_mode: certificate